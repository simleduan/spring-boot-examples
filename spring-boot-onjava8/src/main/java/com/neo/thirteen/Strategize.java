package com.neo.thirteen;/** * Created by cainiao on 2020-08-22 12:12 * * 知识点 1 Soft作为默认策略，在构造函数中赋值。 * 知识点 2 有较多冗余代码，需要观察后才发现，噢！？人家使用了匿名内部类呀 * 知识点 3 java8Lambda表达式 参数->函数体 * 知识点 4 Java 8 的方法引用，它以 :: 为特征。 :: 的左边是类或对象的名称， :: 的右边是方法的名称，但是没有参数列表。 * 知识点 5 改变策略 * 知识点 6 传递进去行为 */public class Strategize {    Strategy strategy;    String msg;    public Strategize(String msg) {        this.strategy = new Soft(); // 知识点 1        this.msg = msg;    }    void communicate(){        System.out.println(strategy.approach(msg));    }    void changeStrategy(Strategy strategy){        this.strategy = strategy;    }    public static void main(String[] args) {        Strategy[] strategies = { // 知识点 2            new Strategy() {                @Override                public String approach(String msg) {                    return msg.toUpperCase()+"!";                }            },            msg->msg.substring(0,5),// 知识点 3            Unrelated::twice// 知识点 4        };        Strategize strategize = new Strategize("Hello there");        //默认策略，Soft  都变小写，加问号 hello there?        strategize.communicate();        //策略知识点2  都变大写，加感叹号 HELLO THERE!        //策略知识点3  截取字符串前五个字符 Hello        //策略知识点4  输出俩次字符串        for (Strategy newStrategy:strategies) {            strategize.changeStrategy(newStrategy);// 知识点 5            strategize.communicate();// 知识点 6        }    }}