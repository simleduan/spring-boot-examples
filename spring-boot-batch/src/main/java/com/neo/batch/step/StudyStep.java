package com.neo.batch.step;import com.neo.batch.builder.rwe.study.StudyProcessor;import com.neo.batch.tasklet.PersonEatTasklet;import org.springframework.batch.core.Step;import org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;import org.springframework.batch.core.configuration.annotation.StepScope;import org.springframework.batch.item.ExecutionContext;import org.springframework.beans.factory.annotation.Value;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;/** * Created by cainiao on 2020-10-18 19:42 */@Configuration@EnableBatchProcessingpublic class StudyStep extends BaseStep {    @Bean("studyStepBean")    public Step studyStep(){        return stepBuilderFactory.get("studyStep")                .chunk(20)                .faultTolerant()                .retry(Exception.class)                .retryLimit(3)                .reader(null)                .processor(getStudyProcessor(null,null))                .writer(null)                .build();    }    @Bean    @StepScope    public StudyProcessor getStudyProcessor(@Value("#{stepExecution.jobExecution.executionContext}") ExecutionContext context,                                            @Value("#{stepExecution.executionContext}") ExecutionContext stepContext){        System.out.println(context.get("executeJobInFo"));        System.out.println(stepContext.get("executeJobInFo"));        return new StudyProcessor();    }}